<div class="card">
  <div class="card-header">
    {{ pageTitle }}
  </div>
  <div class="card-body">
    <form #form="ngForm" (ngSubmit)="onSubmit(form)">
      <div class="form-group">
        <label for="name"
          >Name
          <span class="star">*</span>
        </label>
        <input
          id="name"
          name="name"
          class="form-control"
          placeholder="name"
          [(ngModel)]="character.name"
          #nameField="ngModel"
          #nameRef
          [class.is-invalid]="
            (form.submitted && nameField.invalid) ||
            (nameField.invalid && nameField.touched)
          "
          required
        />
        <div
          *ngIf="
            (form.submitted && nameField.invalid) ||
            (nameField.invalid && nameField.touched)
          "
          class="alert alert-danger"
        >
          Enter a name
        </div>
      </div>

      <div class="form-group">
        <span
          [class.is-invalid]="
            (form.submitted && gender.invalid) ||
            (gender.invalid && gender.touched)
          "
          >Gender <span class="star">*</span></span
        >
        <div class="custom-control custom-radio">
          <input
            id="male"
            type="radio"
            class="custom-control-input"
            value="male"
            name="gender"
            #gender="ngModel"
            #genderRef
            [(ngModel)]="character.gender"
            required
          />
          <label class="custom-control-label" for="male">Male</label>
        </div>
        <div class="custom-control custom-radio">
          <input
            id="female"
            type="radio"
            class="custom-control-input"
            value="female"
            name="gender"
            #gender="ngModel"
            [(ngModel)]="character.gender"
            required
          />
          <label class="custom-control-label" for="female">Female</label>
        </div>
        <div class="custom-control custom-radio">
          <input
            id="n/a"
            type="radio"
            class="custom-control-input"
            value="n/a"
            name="gender"
            #gender="ngModel"
            [(ngModel)]="character.gender"
            required
          />
          <label class="custom-control-label" for="n/a">N/A</label>
        </div>
        <div
          *ngIf="
            (form.submitted && gender.invalid) ||
            (gender.invalid && gender.touched)
          "
          class="alert alert-danger"
        >
          Select a gender
        </div>
      </div>

      <div class="form-group">
        <label for="subscriptionType"
          >Species <span class="star">*</span></label
        >
        <select
          class="form-control"
          #selectSpecies="ngModel"
          #selectRef
          name="species"
          id="species"
          [class.is-invalid]="
            (form.submitted && character.species === species[0]) ||
            (character.species === species[0] && selectSpecies.touched)
          "
          [(ngModel)]="character.species"
        >
          <option *ngFor="let specie of species">
            {{ specie }}
          </option>
        </select>
        <div
          *ngIf="
            (form.submitted && character.species === species[0]) ||
            (character.species === species[0] && selectSpecies.touched)
          "
          class="alert alert-danger"
        >
          Select a specie
        </div>
      </div>

      <div class="form-group">
        <label for="homeworld">Homeworld</label>
        <input
          id="homeworld"
          name="homeworld"
          class="form-control"
          placeholder="homeworld"
          [(ngModel)]="character.homeworld"
          #homeWorldField="ngModel"
          [class.field-error]="form.submitted && nameField.invalid"
        />
      </div>

      <button class="btn btn-primary">Submit</button>
    </form>
  </div>
</div>
